import{S as U,a as F}from"./swiper-slide-92fa8a16.js";import{A as H,B as G,C as X,D,v as N,_ as Y,a as J,m as K,r as I,o as x,c as M,d as T,w as g,b as o,t as S,E as Q,g as W,e as B,F as A,k as Z,i as O,j as q,p as $,h as w}from"./index-29e31bbe.js";import{c as ee}from"./swiper.min-e44b8bc5.js";import"./sweetalert2.all-eb7d1a0e.js";import{c as z}from"./cart-2da7dab3.js";function te({swiper:e,extendParams:v,on:f,emit:E}){v({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const d=n=>(Array.isArray(n)||(n=[n].filter(s=>!!s)),n);function b(n){let s;return n&&typeof n=="string"&&e.isElement&&(s=e.el.shadowRoot.querySelector(n),s)?s:(n&&(typeof n=="string"&&(s=[...document.querySelectorAll(n)]),e.params.uniqueNavElements&&typeof n=="string"&&s.length>1&&e.el.querySelectorAll(n).length===1&&(s=e.el.querySelector(n))),n&&!s?n:s)}function p(n,s){const c=e.params.navigation;n=d(n),n.forEach(i=>{i&&(i.classList[s?"add":"remove"](...c.disabledClass.split(" ")),i.tagName==="BUTTON"&&(i.disabled=s),e.params.watchOverflow&&e.enabled&&i.classList[e.isLocked?"add":"remove"](c.lockClass))})}function u(){const{nextEl:n,prevEl:s}=e.navigation;if(e.params.loop){p(s,!1),p(n,!1);return}p(s,e.isBeginning&&!e.params.rewind),p(n,e.isEnd&&!e.params.rewind)}function t(n){n.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),E("navigationPrev"))}function l(n){n.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),E("navigationNext"))}function m(){const n=e.params.navigation;if(e.params.navigation=ee(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(n.nextEl||n.prevEl))return;let s=b(n.nextEl),c=b(n.prevEl);Object.assign(e.navigation,{nextEl:s,prevEl:c}),s=d(s),c=d(c);const i=(h,_)=>{h&&h.addEventListener("click",_==="next"?l:t),!e.enabled&&h&&h.classList.add(...n.lockClass.split(" "))};s.forEach(h=>i(h,"next")),c.forEach(h=>i(h,"prev"))}function a(){let{nextEl:n,prevEl:s}=e.navigation;n=d(n),s=d(s);const c=(i,h)=>{i.removeEventListener("click",h==="next"?l:t),i.classList.remove(...e.params.navigation.disabledClass.split(" "))};n.forEach(i=>c(i,"next")),s.forEach(i=>c(i,"prev"))}f("init",()=>{e.params.navigation.enabled===!1?k():(m(),u())}),f("toEdge fromEdge lock unlock",()=>{u()}),f("destroy",()=>{a()}),f("enable disable",()=>{let{nextEl:n,prevEl:s}=e.navigation;n=d(n),s=d(s),[...n,...s].filter(c=>!!c).forEach(c=>c.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),f("click",(n,s)=>{let{nextEl:c,prevEl:i}=e.navigation;c=d(c),i=d(i);const h=s.target;if(e.params.navigation.hideOnClick&&!i.includes(h)&&!c.includes(h)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===h||e.pagination.el.contains(h)))return;let _;c.length?_=c[0].classList.contains(e.params.navigation.hiddenClass):i.length&&(_=i[0].classList.contains(e.params.navigation.hiddenClass)),E(_===!0?"navigationShow":"navigationHide"),[...c,...i].filter(P=>!!P).forEach(P=>P.classList.toggle(e.params.navigation.hiddenClass))}});const r=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),u()},k=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),a()};Object.assign(e.navigation,{enable:r,disable:k,update:u,init:m,destroy:a})}function se({swiper:e,extendParams:v,on:f}){v({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let E=!1,d=!1;e.thumbs={swiper:null};function b(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const l=t.clickedIndex,m=t.clickedSlide;if(m&&m.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof l>"u"||l===null)return;let a;t.params.loop?a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=l,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function p(){const{thumbs:t}=e.params;if(E)return!1;E=!0;const l=e.constructor;if(t.swiper instanceof l)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(G(t.swiper)){const m=Object.assign({},t.swiper);Object.assign(m,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new l(m),d=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",b),!0}function u(t){const l=e.thumbs.swiper;if(!l||l.destroyed)return;const m=l.params.slidesPerView==="auto"?l.slidesPerViewDynamic():l.params.slidesPerView;let a=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),l.slides.forEach(s=>s.classList.remove(r)),l.params.loop||l.params.virtual&&l.params.virtual.enabled)for(let s=0;s<a;s+=1)X(l.slidesEl,`[data-swiper-slide-index="${e.realIndex+s}"]`).forEach(c=>{c.classList.add(r)});else for(let s=0;s<a;s+=1)l.slides[e.realIndex+s]&&l.slides[e.realIndex+s].classList.add(r);const k=e.params.thumbs.autoScrollOffset,n=k&&!l.params.loop;if(e.realIndex!==l.realIndex||n){const s=l.activeIndex;let c,i;if(l.params.loop){const h=l.slides.filter(_=>_.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];c=l.slides.indexOf(h),i=e.activeIndex>e.previousIndex?"next":"prev"}else c=e.realIndex,i=c>e.previousIndex?"next":"prev";n&&(c+=i==="next"?k:-1*k),l.visibleSlidesIndexes&&l.visibleSlidesIndexes.indexOf(c)<0&&(l.params.centeredSlides?c>s?c=c-Math.floor(m/2)+1:c=c+Math.floor(m/2)-1:c>s&&l.params.slidesPerGroup,l.slideTo(c,t?0:void 0))}}f("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const l=H(),m=()=>{const r=typeof t.swiper=="string"?l.querySelector(t.swiper):t.swiper;if(r&&r.swiper)t.swiper=r.swiper,p(),u(!0);else if(r){const k=n=>{t.swiper=n.detail[0],r.removeEventListener("init",k),p(),u(!0),t.swiper.update(),e.update()};r.addEventListener("init",k)}return r},a=()=>{if(e.destroyed)return;m()||requestAnimationFrame(a)};requestAnimationFrame(a)}else p(),u(!0)}),f("slideChange update resize observerUpdate",()=>{u()}),f("setTransition",(t,l)=>{const m=e.thumbs.swiper;!m||m.destroyed||m.setTransition(l)}),f("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||d&&t.destroy()}),Object.assign(e.thumbs,{init:p,update:u})}function ie({swiper:e,extendParams:v,emit:f,once:E}){v({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function d(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function b(){const{touchEventsData:u,touches:t}=e;u.velocities.length===0&&u.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:D()})}function p({currentPos:u}){const{params:t,wrapperEl:l,rtlTranslate:m,snapGrid:a,touchEventsData:r}=e,n=D()-r.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(r.velocities.length>1){const y=r.velocities.pop(),C=r.velocities.pop(),R=y.position-C.position,j=y.time-C.time;e.velocity=R/j,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(j>150||D()-y.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,r.velocities.length=0;let s=1e3*t.freeMode.momentumRatio;const c=e.velocity*s;let i=e.translate+c;m&&(i=-i);let h=!1,_;const P=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let V;if(i<e.maxTranslate())t.freeMode.momentumBounce?(i+e.maxTranslate()<-P&&(i=e.maxTranslate()-P),_=e.maxTranslate(),h=!0,r.allowMomentumBounce=!0):i=e.maxTranslate(),t.loop&&t.centeredSlides&&(V=!0);else if(i>e.minTranslate())t.freeMode.momentumBounce?(i-e.minTranslate()>P&&(i=e.minTranslate()+P),_=e.minTranslate(),h=!0,r.allowMomentumBounce=!0):i=e.minTranslate(),t.loop&&t.centeredSlides&&(V=!0);else if(t.freeMode.sticky){let y;for(let C=0;C<a.length;C+=1)if(a[C]>-i){y=C;break}Math.abs(a[y]-i)<Math.abs(a[y-1]-i)||e.swipeDirection==="next"?i=a[y]:i=a[y-1],i=-i}if(V&&E("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(m?s=Math.abs((-i-e.translate)/e.velocity):s=Math.abs((i-e.translate)/e.velocity),t.freeMode.sticky){const y=Math.abs((m?-i:i)-e.translate),C=e.slidesSizesGrid[e.activeIndex];y<C?s=t.speed:y<2*C?s=t.speed*1.5:s=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&h?(e.updateProgress(_),e.setTransition(s),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,N(l,()=>{!e||e.destroyed||!r.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(_),N(l,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(i),e.setTransition(s),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,N(l,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||n>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:d,onTouchMove:b,onTouchEnd:p}})}const oe={components:{Swiper:U,SwiperSlide:F},data(){return{product:{},products:[],isLoading:!1,isLoadingItem:"",imagesUrl:[],thumbsSwiper:null,modules:[ie,te,se],selectedProductId:null,qty:1}},computed:{filteredProducts(){return this.products.filter(e=>e.id!==this.selectedProductId)},...J(z,["cartData"])},methods:{getProductId(){this.isLoading=!0;const{id:e}=this.$route.params,v=`https://vue3-course-api.hexschool.io/v2/api/asher_api/product/${e}`;this.$http.get(v).then(f=>{this.isLoading=!1,this.scrollTop(),this.product=f.data.product}).catch(f=>{alert(f)})},getProductsAll(){this.isLoading=!0;const e="https://vue3-course-api.hexschool.io/v2/api/asher_api/products/all";this.$http.get(e).then(v=>{this.products=v.data.products.filter(f=>f.price>500),this.isLoading=!1}).catch(v=>{alert(v)})},setThumbsSwiper(e){this.thumbsSwiper=e},scrollTop(){window.scrollTo(0,0)},...K(z,["addToCart","getCart"])},mounted(){this.getProductId(),this.getProductsAll()}},L=e=>($("data-v-2aec3f69"),e=e(),w(),e),ne=L(()=>o("div",{class:"loadingio-spinner-ripple"},[o("div",{class:"ldio-content"},[o("div"),o("div")])],-1)),ae={class:"main-product main-block py-3"},le={class:"container p-0"},de={"aria-label":"breadcrumb"},ce={class:"breadcrumb breadcrumb-product mt-3"},re={class:"breadcrumb-item breadcrumb-home"},ue={class:"breadcrumb-item text-decoration-none"},me={class:"breadcrumb-item pe-2 active","aria-current":"page"},fe={class:"container container-productu shape-border shadow-sm p-0"},he={class:"modal-content"},ve={class:"modal-body p-5"},pe={class:"row"},ge={class:"col-12 col-md-6 product-swiper"},be=["src"],_e=["src"],ye=["src"],xe=["src"],Te={class:"col-12 col-md-6 product-content"},Se={class:"ps-4"},Ee={class:"text-secondary pb-2"},ke={class:"product-price my-4 d-flex justify-content-end"},Ce={key:0,class:"text-danger mx-2 fw-bold fs-3"},Pe={key:1,class:"d-flex align-items-center"},Me={class:"text-danger me-2 fw-bold fs-3"},Ie={class:"fs-4",style:{color:"rgb(196, 196, 196)"}},Le={class:"d-flex align-items-center py-3"},Be={class:"input-group w-50 me-4"},Ae={class:"input-group-prepend"},Ve=["disabled"],De=L(()=>o("i",{class:"bi bi-dash"},null,-1)),Ne=[De],Oe={class:"form-control text-center"},qe={class:"input-group-append"},je=L(()=>o("i",{class:"bi bi-plus"},null,-1)),ze=[je],Re=L(()=>o("i",{class:"bi bi-cart4"},null,-1)),Ue=Z('<div class="py-2" data-v-2aec3f69>客約商品：請於結帳時在備註欄位填寫可收貨日期</div><hr data-v-2aec3f69><div class="product-tote" data-v-2aec3f69><div class="product freight" data-v-2aec3f69><div style="font-size:18px;" data-v-2aec3f69><i class="bi bi-box-seam-fill" data-v-2aec3f69></i><span class="ms-1" data-v-2aec3f69>配送及相關說明</span></div><div class="py-2" data-v-2aec3f69> 線上購物的消費者，都可以依照消費者保護法的規定，享有商品貨到次日起七天猶豫期的權益。但猶豫期並非試用期，請留意，您所退回的商品必須回復原狀。 </div></div><div class="freight-content mt-3" data-v-2aec3f69><div class="p-3" data-v-2aec3f69><div class="mb-3" data-v-2aec3f69><div class="fw-bold" data-v-2aec3f69>運送方式：</div><div data-v-2aec3f69>宅配、超商取貨、一般宅配、貨到付款</div></div><div class="fw-bold" data-v-2aec3f69>付款方式：</div><div data-v-2aec3f69>宅配代收、7-11取貨、付款全家取貨付款、信用卡付款</div></div></div></div>',3),Fe={class:"container container-productu p-0"},He={class:"product-show"},Ge=L(()=>o("div",{class:"fs-4 my-4 pt-4 fw-bold mx-4"},"你可能有興趣",-1)),Xe={class:"mx-4"},Ye={class:"card card-shadow shadow-sm",style:{width:"16rem"}},Je=["src"],Ke={class:"card-body p-0"},Qe={class:"card-title p-2",style:{"font-size":"16px"}},We={class:"text-end mx-3"},Ze={key:0,class:"text-danger h5 mb-3"},$e={key:1,class:"mb-3"},we={class:"h6"},et={class:"h5 text-danger"},tt={class:"card-footer py-3"};function st(e,v,f,E,d,b){const p=I("Loading"),u=I("router-link"),t=I("swiper-slide"),l=I("swiper"),m=I("router-view");return x(),M(A,null,[T(p,{active:d.isLoading,class:"vld-overlay"},{default:g(()=>[ne]),_:1},8,["active"]),o("main",ae,[o("div",le,[o("nav",de,[o("ol",ce,[o("li",re,[T(u,{to:"/",class:"breadcrumb-link text-decoration-none"},{default:g(()=>[B("首頁")]),_:1})]),o("li",ue,[T(u,{to:{path:"/products"},class:"breadcrumb-link text-decoration-none"},{default:g(()=>[B("商品")]),_:1})]),o("li",me,S(d.product.title),1)])])]),o("div",fe,[o("div",he,[o("div",ve,[o("div",pe,[o("div",ge,[T(l,{style:Q([{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},{width:"550px",height:"450px"}]),spaceBetween:10,navigation:!0,thumbs:{swiper:d.thumbsSwiper},modules:d.modules,class:"mySwiper2 swiper-style2 mb-3 product-width"},{default:g(()=>[T(t,null,{default:g(()=>[o("img",{class:"img-product",src:d.product.imageUrl},null,8,be)]),_:1}),(x(!0),M(A,null,O(d.product.imagesUrl,(a,r)=>(x(),q(t,{key:"image-"+r},{default:g(()=>[o("img",{class:"img-product",src:a},null,8,_e)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),T(l,{onSwiper:b.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:d.modules,class:"mySwiper swiper-style img-product-width",style:{width:"550px",height:"130px"}},{default:g(()=>[T(t,null,{default:g(()=>[o("img",{class:"img-product img-preview",src:d.product.imageUrl},null,8,ye)]),_:1}),(x(!0),M(A,null,O(d.product.imagesUrl,(a,r)=>(x(),q(t,{key:"image-"+r},{default:g(()=>[o("img",{class:"img-product img-preview",src:a},null,8,xe)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),o("div",Te,[o("div",Se,[o("h4",null,S(d.product.title),1),o("div",Ee,"商品編號: "+S(d.product.id),1),o("div",null,[o("div",ke,[d.product.price===d.product.origin_price?(x(),M("div",Ce," NT$"+S(d.product.price)+" 元 ",1)):(x(),M("div",Pe,[o("div",Me,"NT$ "+S(d.product.price),1),o("span",null,[o("del",Ie,"NT$ "+S(d.product.origin_price),1)])]))]),o("div",Le,[o("div",Be,[o("div",Ae,[o("button",{class:"btn btn-danger custom-left-rounded",type:"button",onClick:v[0]||(v[0]=a=>d.qty>1?d.qty--:null),disabled:d.qty===1},Ne,8,Ve)]),o("span",Oe,S(d.qty),1),o("div",qe,[o("button",{class:"btn btn-danger custom-right-rounded",type:"button",onClick:v[1]||(v[1]=a=>d.qty++)},ze)])]),o("button",{type:"button",class:"btn btn-danger product-add w-50 ms-4",onClick:v[2]||(v[2]=W(a=>e.addToCart(d.product.id,d.qty),["prevent"]))},[Re,B(" 加入購物車 ")])]),Ue])])])])])])]),o("div",Fe,[o("div",He,[Ge,o("div",Xe,[T(l,{class:"swiper-display",loop:!0,breakpoints:{1140:{slidesPerView:4,spaceBetween:5},1024:{slidesPerView:3,spaceBetween:5},768:{slidesPerView:3,spaceBetween:10},600:{slidesPerView:2,spaceBetween:10},430:{slidesPerView:1,spaceBetween:20}}},{default:g(()=>[(x(!0),M(A,null,O(b.filteredProducts,a=>(x(),q(t,{class:"d-flex justify-content-center mb-5",key:a.id,onClick:r=>{d.selectedProductId=a.id,b.getProductId()}},{default:g(()=>[o("div",Ye,[T(u,{to:`/product/${a.id}`},{default:g(()=>[o("img",{src:a.imageUrl,class:"card-img-top card-img p-2 shadow-sm",alt:"",onClick:v[3]||(v[3]=(...r)=>b.scrollTop&&b.scrollTop(...r))},null,8,Je)]),_:2},1032,["to"]),o("div",Ke,[o("h5",Qe,S(a.title),1),o("div",We,[a.price===a.origin_price?(x(),M("div",Ze," NT$"+S(a.price),1)):(x(),M("div",$e,[o("del",we," NT$"+S(a.origin_price),1),o("span",et," NT$"+S(a.price),1)]))]),o("div",tt,[T(u,{to:`/product/${a.id}`,class:"btn btn-danger w-100"},{default:g(()=>[B("馬上來看看")]),_:2},1032,["to"])])])])]),_:2},1032,["onClick"]))),128))]),_:1})])])])]),T(m)],64)}const dt=Y(oe,[["render",st],["__scopeId","data-v-2aec3f69"]]);export{dt as default};
