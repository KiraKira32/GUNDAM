import{S as q,a as R}from"./swiper-slide-19328f41.js";import{c as F}from"./swiper.min-4aeadc3e.js";import{u as U,x as H,y as G,z as B,m as A,_ as X,r as P,o as k,c as L,b as M,w as y,a as c,t as C,A as Y,F as D,h as J,d as N,f as V,g as j}from"./index-3498b967.js";function K({swiper:e,extendParams:T,on:h,emit:p}){T({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const l=i=>(Array.isArray(i)||(i=[i].filter(s=>!!s)),i);function E(i){let s;return i&&typeof i=="string"&&e.isElement&&(s=e.el.shadowRoot.querySelector(i),s)?s:(i&&(typeof i=="string"&&(s=[...document.querySelectorAll(i)]),e.params.uniqueNavElements&&typeof i=="string"&&s.length>1&&e.el.querySelectorAll(i).length===1&&(s=e.el.querySelector(i))),i&&!s?i:s)}function v(i,s){const o=e.params.navigation;i=l(i),i.forEach(n=>{n&&(n.classList[s?"add":"remove"](...o.disabledClass.split(" ")),n.tagName==="BUTTON"&&(n.disabled=s),e.params.watchOverflow&&e.enabled&&n.classList[e.isLocked?"add":"remove"](o.lockClass))})}function u(){const{nextEl:i,prevEl:s}=e.navigation;if(e.params.loop){v(s,!1),v(i,!1);return}v(s,e.isBeginning&&!e.params.rewind),v(i,e.isEnd&&!e.params.rewind)}function t(i){i.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),p("navigationPrev"))}function a(i){i.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),p("navigationNext"))}function r(){const i=e.params.navigation;if(e.params.navigation=F(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(i.nextEl||i.prevEl))return;let s=E(i.nextEl),o=E(i.prevEl);Object.assign(e.navigation,{nextEl:s,prevEl:o}),s=l(s),o=l(o);const n=(f,b)=>{f&&f.addEventListener("click",b==="next"?a:t),!e.enabled&&f&&f.classList.add(...i.lockClass.split(" "))};s.forEach(f=>n(f,"next")),o.forEach(f=>n(f,"prev"))}function d(){let{nextEl:i,prevEl:s}=e.navigation;i=l(i),s=l(s);const o=(n,f)=>{n.removeEventListener("click",f==="next"?a:t),n.classList.remove(...e.params.navigation.disabledClass.split(" "))};i.forEach(n=>o(n,"next")),s.forEach(n=>o(n,"prev"))}h("init",()=>{e.params.navigation.enabled===!1?_():(r(),u())}),h("toEdge fromEdge lock unlock",()=>{u()}),h("destroy",()=>{d()}),h("enable disable",()=>{let{nextEl:i,prevEl:s}=e.navigation;i=l(i),s=l(s),[...i,...s].filter(o=>!!o).forEach(o=>o.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),h("click",(i,s)=>{let{nextEl:o,prevEl:n}=e.navigation;o=l(o),n=l(n);const f=s.target;if(e.params.navigation.hideOnClick&&!n.includes(f)&&!o.includes(f)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===f||e.pagination.el.contains(f)))return;let b;o.length?b=o[0].classList.contains(e.params.navigation.hiddenClass):n.length&&(b=n[0].classList.contains(e.params.navigation.hiddenClass)),p(b===!0?"navigationShow":"navigationHide"),[...o,...n].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const m=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),r(),u()},_=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:m,disable:_,update:u,init:r,destroy:d})}function Q({swiper:e,extendParams:T,on:h}){T({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let p=!1,l=!1;e.thumbs={swiper:null};function E(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const a=t.clickedIndex,r=t.clickedSlide;if(r&&r.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof a>"u"||a===null)return;let d;t.params.loop?d=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):d=a,e.params.loop?e.slideToLoop(d):e.slideTo(d)}function v(){const{thumbs:t}=e.params;if(p)return!1;p=!0;const a=e.constructor;if(t.swiper instanceof a)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(H(t.swiper)){const r=Object.assign({},t.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new a(r),l=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",E),!0}function u(t){const a=e.thumbs.swiper;if(!a||a.destroyed)return;const r=a.params.slidesPerView==="auto"?a.slidesPerViewDynamic():a.params.slidesPerView;let d=1;const m=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(d=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(d=1),d=Math.floor(d),a.slides.forEach(s=>s.classList.remove(m)),a.params.loop||a.params.virtual&&a.params.virtual.enabled)for(let s=0;s<d;s+=1)G(a.slidesEl,`[data-swiper-slide-index="${e.realIndex+s}"]`).forEach(o=>{o.classList.add(m)});else for(let s=0;s<d;s+=1)a.slides[e.realIndex+s]&&a.slides[e.realIndex+s].classList.add(m);const _=e.params.thumbs.autoScrollOffset,i=_&&!a.params.loop;if(e.realIndex!==a.realIndex||i){const s=a.activeIndex;let o,n;if(a.params.loop){const f=a.slides.filter(b=>b.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];o=a.slides.indexOf(f),n=e.activeIndex>e.previousIndex?"next":"prev"}else o=e.realIndex,n=o>e.previousIndex?"next":"prev";i&&(o+=n==="next"?_:-1*_),a.visibleSlidesIndexes&&a.visibleSlidesIndexes.indexOf(o)<0&&(a.params.centeredSlides?o>s?o=o-Math.floor(r/2)+1:o=o+Math.floor(r/2)-1:o>s&&a.params.slidesPerGroup,a.slideTo(o,t?0:void 0))}}h("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const a=U(),r=()=>{const m=typeof t.swiper=="string"?a.querySelector(t.swiper):t.swiper;if(m&&m.swiper)t.swiper=m.swiper,v(),u(!0);else if(m){const _=i=>{t.swiper=i.detail[0],m.removeEventListener("init",_),v(),u(!0),t.swiper.update(),e.update()};m.addEventListener("init",_)}return m},d=()=>{if(e.destroyed)return;r()||requestAnimationFrame(d)};requestAnimationFrame(d)}else v(),u(!0)}),h("slideChange update resize observerUpdate",()=>{u()}),h("setTransition",(t,a)=>{const r=e.thumbs.swiper;!r||r.destroyed||r.setTransition(a)}),h("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||l&&t.destroy()}),Object.assign(e.thumbs,{init:v,update:u})}function W({swiper:e,extendParams:T,emit:h,once:p}){T({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function l(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function E(){const{touchEventsData:u,touches:t}=e;u.velocities.length===0&&u.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:B()})}function v({currentPos:u}){const{params:t,wrapperEl:a,rtlTranslate:r,snapGrid:d,touchEventsData:m}=e,i=B()-m.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<d.length?e.slideTo(d.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(m.velocities.length>1){const g=m.velocities.pop(),x=m.velocities.pop(),z=g.position-x.position,O=g.time-x.time;e.velocity=z/O,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(O>150||B()-g.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,m.velocities.length=0;let s=1e3*t.freeMode.momentumRatio;const o=e.velocity*s;let n=e.translate+o;r&&(n=-n);let f=!1,b;const S=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let I;if(n<e.maxTranslate())t.freeMode.momentumBounce?(n+e.maxTranslate()<-S&&(n=e.maxTranslate()-S),b=e.maxTranslate(),f=!0,m.allowMomentumBounce=!0):n=e.maxTranslate(),t.loop&&t.centeredSlides&&(I=!0);else if(n>e.minTranslate())t.freeMode.momentumBounce?(n-e.minTranslate()>S&&(n=e.minTranslate()+S),b=e.minTranslate(),f=!0,m.allowMomentumBounce=!0):n=e.minTranslate(),t.loop&&t.centeredSlides&&(I=!0);else if(t.freeMode.sticky){let g;for(let x=0;x<d.length;x+=1)if(d[x]>-n){g=x;break}Math.abs(d[g]-n)<Math.abs(d[g-1]-n)||e.swipeDirection==="next"?n=d[g]:n=d[g-1],n=-n}if(I&&p("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(r?s=Math.abs((-n-e.translate)/e.velocity):s=Math.abs((n-e.translate)/e.velocity),t.freeMode.sticky){const g=Math.abs((r?-n:n)-e.translate),x=e.slidesSizesGrid[e.activeIndex];g<x?s=t.speed:g<2*x?s=t.speed*1.5:s=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&f?(e.updateProgress(b),e.setTransition(s),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating=!0,A(a,()=>{!e||e.destroyed||!m.allowMomentumBounce||(h("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(b),A(a,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(h("_freeModeNoMomentumRelease"),e.updateProgress(n),e.setTransition(s),e.setTranslate(n),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,A(a,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(n),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&h("_freeModeNoMomentumRelease");(!t.freeMode.momentum||i>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:l,onTouchMove:E,onTouchEnd:v}})}const Z={components:{Swiper:q,SwiperSlide:R},data(){return{product:{},isLoading:!1,imagesUrl:[],thumbsSwiper:null,modules:[W,K,Q]}},methods:{getProduct(){this.isLoading=!0;const{id:e}=this.$route.params,T=`https://vue3-course-api.hexschool.io/v2/api/asher_api/product/${e}`;this.$http.get(T).then(h=>{this.product=h.data.product,this.isLoading=!1}).catch(h=>{console.log(h)})},setThumbsSwiper(e){this.thumbsSwiper=e}},mounted(){this.getProduct(),this.imagesUrl.unshift(this.product.imageUrl)}},$=c("div",{class:"loadingio-spinner-ripple-j9w2wm5soxm"},[c("div",{class:"ldio-3c1sqxz2ek1"},[c("div"),c("div")])],-1),w={class:"main-product main-block py-3"},ee={class:"container p-0"},te={"aria-label":"breadcrumb breadcrumb-cart"},se={class:"breadcrumb"},ne={class:"breadcrumb-item"},ie={class:"breadcrumb-item text-decoration-none"},ae={class:"breadcrumb-item active","aria-current":"page"},oe={class:"container container-block shape-border shadow-sm"},le={class:"modal-content"},ce={class:"modal-body"},re={class:"row"},de={class:"col-md-6 p-4"},ue=["src"],me=["src"],fe=["src"],he=["src"],ve={class:"col-md-6 p-0 pt-4 pe-5"},be={class:""},ge={class:"text-secondary pb-2"},pe={class:"product-price my-4 d-flex justify-content-end"},_e={key:0},xe={key:1,class:"d-flex align-items-center"},ye={class:"text-danger me-2 fw-bold fs-3"},Te={class:"fs-4",style:{color:"rgb(196, 196, 196)"}},Ee=J('<div class="d-flex align-items-center py-3"><div class="input-group w-50 me-4"><div class="input-group-prepend"><button class="btn btn-danger custom-left-rounded" type="button"><i class="bi bi-dash"></i></button></div><span class="form-control text-center">1</span><div class="input-group-append"><button class="btn btn-danger custom-right-rounded" type="button"><i class="bi bi-plus"></i></button></div></div><button type="button" class="btn btn-danger w-50 ms-4"><i class="bi bi-cart4"></i> 加入購物車 </button></div><hr><div class="product-tote"><div class="product freight"><div style="font-size:18px;"><i class="bi bi-box-seam-fill"></i><span class="ms-1">運送&amp;付款</span></div></div><div class="freight-content mt-3"><div class="p-3"><div class="mb-3"><div class="fw-bold">運送方式：</div><div>7-11取貨、全家取貨、實體門市取貨、一般宅配貨到付款</div></div><div class="fw-bold">付款方式：</div><div>宅配代收、7-11取貨付款、全家取貨、付款信用卡、分期付款</div></div></div></div>',3);function Se(e,T,h,p,l,E){const v=P("Loading"),u=P("router-link"),t=P("swiper-slide"),a=P("swiper");return k(),L(D,null,[M(v,{active:l.isLoading,class:"vld-overlay"},{default:y(()=>[$]),_:1},8,["active"]),c("main",w,[c("div",ee,[c("nav",te,[c("ol",se,[c("li",ne,[M(u,{to:"/",class:"breadcrumb-link text-decoration-none"},{default:y(()=>[N("首頁")]),_:1})]),c("li",ie,[M(u,{to:{path:"/products"},class:"breadcrumb-link text-decoration-none"},{default:y(()=>[N("商品")]),_:1})]),c("li",ae,C(l.product.title),1)])])]),c("div",oe,[c("div",le,[c("div",ce,[c("div",re,[c("div",de,[M(a,{style:Y([{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},{width:"550px",height:"550px"}]),spaceBetween:10,navigation:!0,thumbs:{swiper:l.thumbsSwiper},modules:l.modules,class:"mySwiper2 mb-3"},{default:y(()=>[M(t,null,{default:y(()=>[c("img",{class:"",src:l.product.imageUrl},null,8,ue)]),_:1}),(k(!0),L(D,null,V(l.product.imagesUrl,r=>(k(),j(t,{key:r},{default:y(()=>[c("img",{class:"",src:r},null,8,me)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),M(a,{onSwiper:E.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:l.modules,class:"mySwiper",style:{width:"550px",height:"130px"}},{default:y(()=>[M(t,null,{default:y(()=>[c("img",{class:"",src:l.product.imageUrl},null,8,fe)]),_:1}),(k(!0),L(D,null,V(l.product.imagesUrl,r=>(k(),j(t,{key:r},{default:y(()=>[c("img",{class:"",src:r},null,8,he)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),c("div",ve,[c("div",be,[c("div",ge,"商品編號: "+C(l.product.id),1),c("h4",null,C(l.product.title),1),c("div",null,[c("div",pe,[l.product.price===l.product.origin_price?(k(),L("div",_e,C(l.product.price)+" 元",1)):(k(),L("div",xe,[c("div",ye,"NT$ "+C(l.product.price),1),c("span",null,[c("del",Te,"NT$ "+C(l.product.origin_price),1)])]))]),Ee])])])])])])])])],64)}const Le=X(Z,[["render",Se]]);export{Le as default};
